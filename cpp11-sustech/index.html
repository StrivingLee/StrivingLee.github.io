<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-avatar-medium.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-avatar-small.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"strivinglee.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":"default","style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Notes of SUSTECH C++11">
<meta property="og:type" content="article">
<meta property="og:title" content="「SUSTECH-C++11」">
<meta property="og:url" content="https://strivinglee.github.io/cpp11-sustech/index.html">
<meta property="og:site_name" content="StrivingLee&#39;s Blog">
<meta property="og:description" content="Notes of SUSTECH C++11">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://strivinglee.github.io/cpp11-sustech/Images/compile-and-link.png">
<meta property="og:image" content="https://strivinglee.github.io/cpp11-sustech/Images/memory-types.png">
<meta property="og:image" content="https://strivinglee.github.io/cpp11-sustech/Images/operators-can-be-overloaded.png">
<meta property="article:published_time" content="2023-10-22T06:22:59.000Z">
<meta property="article:modified_time" content="2023-10-22T06:27:10.842Z">
<meta property="article:author" content="StrivingLee">
<meta property="article:tag" content="Notes">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://strivinglee.github.io/cpp11-sustech/Images/compile-and-link.png">

<link rel="canonical" href="https://strivinglee.github.io/cpp11-sustech/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>「SUSTECH-C++11」 | StrivingLee's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">StrivingLee's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">揉合生命千样好</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">20</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">23</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">17</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/StrivingLee" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://strivinglee.github.io/cpp11-sustech/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="StrivingLee">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StrivingLee's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/cpp11-sustech" class="post-title-link post-title-link-external" itemprop="url">「SUSTECH-C++11」<i class="fa fa-external-link-alt"></i></a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-10-22 14:22:59 / Modified: 14:27:10" itemprop="dateCreated datePublished" datetime="2023-10-22T14:22:59+08:00">2023-10-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/S5/" itemprop="url" rel="index"><span itemprop="name">S5</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>16k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>39 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>Notes of SUSTECH C++11</p>
</blockquote>
<span id="more"></span>
<h1 id="chapter1-introduction-and-background">Chapter1 Introduction and
Background</h1>
<blockquote>
<p>第一章、基础知识</p>
</blockquote>
<h2 id="g">g++</h2>
<p>1、编译 hello.cpp 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ hello.cpp</span><br></pre></td></tr></table></figure>
<p>2、使用 c++11：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ hello.cpp --std=c++11</span><br></pre></td></tr></table></figure>
<p>3、自定义生成文件名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ hello.cpp --std=c++11 -o hello</span><br></pre></td></tr></table></figure>
<p>4、运行生成的文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./hello</span><br></pre></td></tr></table></figure>
<h2 id="compile-and-link">Compile and Link</h2>
<p>函数声明一般放在 <code>*.hpp</code> 文件中</p>
<p>分门别类管理，节约编译时间，条理清晰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;mul.hpp&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="type">int</span> result;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Pick two integers:&quot;</span>;</span><br><span class="line">    cin &gt;&gt; a;</span><br><span class="line">    cin &gt;&gt; b;</span><br><span class="line">    result = <span class="built_in">mul</span>(a, b);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;The result is &quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mul.hpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mul</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mul.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;mul.hpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mul</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="Images/compile-and-link.png" alt="compile-and-link" />
<figcaption aria-hidden="true">compile-and-link</figcaption>
</figure>
<p>注：g++ 的 -c 选项表示只编译不链接。</p>
<p>好处：分开编译，<strong>节约编译时间</strong></p>
<p><strong>引号和尖括号引用的区别</strong></p>
<ul>
<li>尖括号：编译器从编译器指定的 include 路径寻找头文件</li>
<li>引号：从指定的和当前路径寻找</li>
</ul>
<h2 id="debug">Debug</h2>
<p>错误三大类：</p>
<ul>
<li>编译错误：编译时就出错了，一般由语法造成</li>
<li>链接错误：错误提示一般与 symbol 有关，顺藤摸瓜查这个符号</li>
<li>运行错误：编译链接正常，运行时报错</li>
</ul>
<h2 id="preprocessor-and-macros">Preprocessor and Macros</h2>
<p>预处理指令是以“#”开头的指令，只能占一行，换行需要转义符</p>
<h2 id="simple-input-and-output">Simple Input and Output</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">std::ostream cout;</span><br><span class="line">std::istream cin;</span><br></pre></td></tr></table></figure>
<p><code>&lt;&lt;</code> 是运算符，采用运算符重载定义，返回值依然是
<code>cout</code>，故可以链式调用</p>
<h2 id="arguments">Arguments</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arguments.cpp</span></span><br></pre></td></tr></table></figure>
<h1 id="chapter2-data-types-and-arithmetic-operations">Chapter2 Data
Types and Arithmetic Operations</h1>
<blockquote>
<p>第二章、数据类型及算术运算</p>
<p>整形类型，浮点类型，算数运算，类型转换</p>
</blockquote>
<h2 id="integer-numbers">Integer Numbers</h2>
<p>Please initialize variables <strong>EXPLICITLY</strong>!</p>
<p>新的初始化方式</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">num</span> <span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="type">int</span> num &#123;<span class="number">10</span>&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="data-width-and-more-integer-types">Data Width and More Integer
Types</h2>
<p>C 和 C++ 标准并未固定数据位宽</p>
<p><code>long long int</code> 保证 64 位</p>
<p><code>sizeof</code> 是
<code>operator</code>，因为函数的参数必须是变量</p>
<p>c++标准并没有规定char（-128~127）表示unsigned char（0~255）还是signed
char。不同平台不一样。</p>
<p>从c++11开始增加了 char16_t（16位的char）、char32_t（32位的char）
类型，可以表示中文字符。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="type">16_t</span> c = <span class="string">u&#x27;于&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="type">32_t</span> c = <span class="string">U&#x27;于&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>字符类型前面添加 <code>+</code> 会隐式转换为整数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> b = <span class="literal">true</span>;</span><br><span class="line"><span class="type">int</span> i = b; <span class="comment">// the value of i is 1</span></span><br><span class="line"><span class="type">bool</span> b = <span class="number">-256</span>; <span class="comment">// 非0值均为1 unrecommended conversion</span></span><br><span class="line"><span class="type">bool</span> b = (<span class="number">-256</span> != <span class="number">0</span>); <span class="comment">// better choice</span></span><br></pre></td></tr></table></figure>
<h2 id="boolean-in-c">Boolean in C</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> <span class="type">bool</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="textttsize_t"><span
class="math inline">\(\texttt{size\_t}\)</span></h2>
<p><code>sizeof</code> 的返回值类型</p>
<p>表达内存、表达元素的个数等等</p>
<p>自减时不会减到负数，循环时不能自减，否则会无限循环</p>
<h2 id="fixed-width-integer-types-since-c11">Fixed Width Integer Types
(since C++11)</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Defined in &lt;cstdint&gt;</span></span><br><span class="line"><span class="type">int8_t</span>;</span><br><span class="line"><span class="type">int16_t</span>;</span><br><span class="line"><span class="type">int32_t</span>;</span><br><span class="line"><span class="type">int64_t</span>;</span><br><span class="line"><span class="type">uint8_t</span>;</span><br><span class="line"><span class="type">uint16_t</span>;</span><br><span class="line"><span class="type">uint32_t</span>;</span><br><span class="line"><span class="type">uint64_t</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// Some useful macros</span></span><br><span class="line">INT8_MIN;</span><br><span class="line">INT16_MIN;</span><br><span class="line">INT32_MIN;</span><br><span class="line">INT64_MIN;</span><br><span class="line">INT8_MAX;</span><br><span class="line">INT16_MAX;</span><br><span class="line">INT32_MAX;</span><br><span class="line">INT64_MAX;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="floating-point-numbers">Floating Point Numbers</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    <span class="type">float</span> f1 = <span class="number">1.2f</span>;</span><br><span class="line">    <span class="type">float</span> f2 = f1 * <span class="number">1000000000000000</span>; <span class="comment">//1.0e15</span></span><br><span class="line">    cout &lt;&lt; std::fixed &lt;&lt; std::<span class="built_in">setprecision</span>(<span class="number">15</span>) &lt;&lt; f1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; std::fixed &lt;&lt; std::<span class="built_in">setprecision</span>(<span class="number">15</span>) &lt;&lt; f2 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原因在于小数是无限的，计算机表示数据有位数限制。写一个很长的小数，计算机不一定能表示出来。所以计算机表示浮点数的时候进行了采样。比如上面要表示一个15位有效数字的1.2，得到的是计算机在那段范围进行了采样后的结果。</p>
<p>如果支持 <code>long double</code>，则为 128
位。半精度是深度学习中大量使用的，但是不属于 C++ 标准</p>
<p>double 类型的数据操作比 float 更慢。</p>
<h2 id="constant-numbers">Constant Numbers</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">95</span>; <span class="comment">// decimal</span></span><br><span class="line"><span class="number">0137</span>; <span class="comment">// octal</span></span><br><span class="line"><span class="number">0x5F</span>; <span class="comment">// hexadecimal</span></span><br><span class="line"><span class="number">95</span>; <span class="comment">// int</span></span><br><span class="line"><span class="number">95u</span>; <span class="comment">// unsigned int</span></span><br><span class="line"><span class="number">95l</span>; <span class="comment">// long</span></span><br><span class="line"><span class="number">95ul</span>; <span class="comment">// unsigned long</span></span><br><span class="line"><span class="number">95lu</span>; <span class="comment">// unsigned long</span></span><br><span class="line"></span><br><span class="line"><span class="number">6.02e23</span>L; <span class="comment">// long double</span></span><br></pre></td></tr></table></figure>
<h2 id="textttauto"><span
class="math inline">\(\texttt{auto}\)</span></h2>
<p><code>auto</code> is placeholder type specifier</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> a = <span class="number">2</span>; <span class="comment">// int</span></span><br><span class="line"><span class="keyword">auto</span> bc = <span class="number">2.3</span>; <span class="comment">// double</span></span><br><span class="line"><span class="keyword">auto</span> c; <span class="comment">// valid in C, error in C++</span></span><br><span class="line"><span class="keyword">auto</span> d = a * <span class="number">1.2</span>; <span class="comment">// double</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Question</span></span><br><span class="line"><span class="keyword">auto</span> a = <span class="number">2</span>;</span><br><span class="line">a = <span class="number">2.3</span>; <span class="comment">// will a be converted to double again? No</span></span><br></pre></td></tr></table></figure>
<h2 id="conversion">Conversion</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num1 = (<span class="type">int</span>)<span class="string">&#x27;C&#x27;</span>; <span class="comment">// C-style</span></span><br><span class="line"><span class="type">int</span> num2 = <span class="built_in">int</span>(<span class="string">&#x27;C&#x27;</span>); <span class="comment">// function style</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> f = <span class="number">17</span> / <span class="number">5</span>; <span class="comment">// f will be 3.f</span></span><br></pre></td></tr></table></figure>
<h1 id="chapter3-statements">Chapter3 Statements</h1>
<blockquote>
<p>第三章、语句</p>
</blockquote>
<h2 id="assign-statement">Assign Statement</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="type">int</span> * p = <span class="built_in">get</span>())&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>赋值表达式的值是等号右边的内容。</p>
<h2 id="textttgoto"><span
class="math inline">\(\texttt{goto}\)</span></h2>
<p>在函数的末尾进行错误处理、清理等操作。当程序出错时跳转到错误处理的相关代码，其他情况不建议使用
goto 语句。</p>
<h2 id="textttswitch"><span
class="math inline">\(\texttt{switch}\)</span></h2>
<p>更像 goto 语句，所以要注意写 break</p>
<h1 id="chapter4-arrays">Chapter4 Arrays</h1>
<blockquote>
<p>数组</p>
<p>数组（一维数组，定长数组，变长数组，多维数组，常量数组等等，字符串string），结构体(struct)【将不同的数据类型统一起来，用法基本上同后面学到的类】，联合体（union）【共享同一块地址】以及枚举（enum）[替换常量],</p>
</blockquote>
<h2 id="variable-length-arrays">Variable-length Arrays</h2>
<p>运行时才能确定数组的大小，如果用常量开，编译时便可确定</p>
<p>不一定能够直接初始化</p>
<p>C 和 C++
禁止数组首地址的赋值，这样两个数组地址指向同一块内存，有一个数组丢失</p>
<p>循环逐个赋值或者内存拷贝函数赋值</p>
<p>无越界检查</p>
<p>在 C/C++ 中数组不是对象，这点不同于 Java</p>
<h2 id="textttconst-arrays"><span
class="math inline">\(\texttt{const}\)</span> arrays</h2>
<p>常常用作函数传参</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">wchat_t</span>[] s1 = <span class="string">L&quot;ABCD&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char16_t</span>[] s2 = <span class="string">u&quot;ABCD&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char32_t</span>[] s3 = <span class="string">U&quot;ABCD&quot;</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">char</span> *<span class="title">strcpy</span><span class="params">(<span class="type">char</span>* dst, <span class="type">const</span> <span class="type">char</span>* src)</span></span>;</span><br></pre></td></tr></table></figure>
<p>如果溢出了也会继续复制，所以有了更安全的 <code>strncpy</code></p>
<h2 id="textttstring-class"><span
class="math inline">\(\texttt{string}\)</span> class</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">std::string str1 = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">std::string str2 = <span class="string">&quot;Lee&quot;</span>;</span><br><span class="line">std::string result = str1 + <span class="string">&quot;, &quot;</span> + str2;</span><br></pre></td></tr></table></figure>
<h2 id="different-types-of-textttstring">Different Types of <span
class="math inline">\(\texttt{string}\)</span></h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">std::string</span><br><span class="line">std::wstring</span><br><span class="line">std::u8string <span class="comment">// C++20</span></span><br><span class="line">std::u16string <span class="comment">// C++11</span></span><br><span class="line">std::u32string <span class="comment">// C++11</span></span><br></pre></td></tr></table></figure>
<p>直接用方括号下标访问不会有异常，at 方法越界会有异常</p>
<h2 id="textttstruct"><span
class="math inline">\(\texttt{struct}\)</span></h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> point1 = &#123;.type=TYPE_INT8, .data8=&#123;<span class="number">-2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="textttenum"><span
class="math inline">\(\texttt{enum}\)</span></h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">color</span> &#123;WHITE, BLACK, RED, GREEN, BLUE, YELLOW, NUM_COLORS&#125;;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">color</span> pen_color = RED;</span><br><span class="line">pen_color = <span class="built_in">color</span>(<span class="number">3</span>); <span class="comment">// type convertion</span></span><br><span class="line">pen_color += <span class="number">1</span>; <span class="comment">// ERROR!</span></span><br><span class="line"><span class="type">int</span> color_index = pen_color;</span><br><span class="line">color_index += <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h2 id="texttttypedef"><span
class="math inline">\(\texttt{typedef}\)</span></h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> vec3b[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> color[<span class="number">3</span>];</span><br><span class="line">vec3b color = &#123;<span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="chapter5-pointers-and-memory-management">Chapter5 Pointers and
Memory Management</h1>
<blockquote>
<p>第五章、指针与内存管理</p>
</blockquote>
<h2 id="constant-pointers">Constant Pointers</h2>
<p>指针指向的内容不能通过 <code>*</code> 取内容来修改</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// You cannot change the value p1 points to through p1</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> * p1 = &amp;num;</span><br><span class="line">*p1 = <span class="number">3</span>; <span class="comment">// error</span></span><br><span class="line">num = <span class="number">3</span>; <span class="comment">// okay</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// You cannot change the value of p2</span></span><br><span class="line"><span class="type">int</span> * <span class="type">const</span> p2 = &amp;num;</span><br><span class="line">*p2 = <span class="number">3</span>; <span class="comment">// okay</span></span><br><span class="line"><span class="type">int</span> another = <span class="number">2</span>;</span><br><span class="line">p2 = &amp;another; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// You cannot change either of them</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> p3 = &amp;num;</span><br><span class="line"><span class="comment">// But you can still change num directly</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">foo</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *p)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// play a trick to remove const restriction?</span></span><br><span class="line">    <span class="type">char</span> * p2 = p; <span class="comment">// syntax error</span></span><br><span class="line">    <span class="comment">// You cannot assign a const pointer to non-const one</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="textttsize_t-1"><span
class="math inline">\(\texttt{size\_t}\)</span></h2>
<p>一个无符号整型，表示当前系统内存中可以存储的最大对象的大小。</p>
<h2 id="memory-types">Memory Types</h2>
<ul>
<li>代码区：存放程序的执行指令，试图写入的操作会被系统 kill。</li>
<li>静态变量区：初始化的、未初始化的分开存放。</li>
<li>堆内存区：动态申请的内存会存放此处，</li>
<li>栈内存区：临时、局部变量存放在此区。</li>
</ul>
<p><img src="Images/memory-types.png" alt="memory-types" style="zoom:50%;" /></p>
<h2 id="textttvoid-malloc-size_t-size"><span
class="math inline">\(\texttt{void* malloc( size\_t size
)}\)</span></h2>
<ul>
<li>单位是字节。</li>
<li>分配的内存是未初始化的，不改变原有存储内容。</li>
<li>存在内存对齐机制，比如：int * p1 = (int*) malloc
(4);只想分配4字节，但是不同操作系统分配的是不同的，有的会最小分配4字节，有的会最小分配16字节。</li>
<li><strong>当程序结束后操作系统会把分配给该程序的所有内存回收。</strong></li>
</ul>
<h2 id="memory-leak">Memory Leak</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">p = (<span class="type">int</span> *) <span class="built_in">malloc</span>(<span class="number">4</span> * <span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">p = (<span class="type">int</span> *) <span class="built_in">malloc</span>(<span class="number">8</span> * <span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> *p = (<span class="type">int</span> *) <span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="textttnew"><span
class="math inline">\(\texttt{new}\)</span></h2>
<blockquote>
<p>Operator new is similar with malloc() but with more features</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//allocate an int, default initializer (do nothing)</span></span><br><span class="line"><span class="type">int</span> * p1 = <span class="keyword">new</span> <span class="type">int</span>; </span><br><span class="line"><span class="comment">//allocate an int, initialized to 0</span></span><br><span class="line"><span class="type">int</span> * p2 =  <span class="keyword">new</span> <span class="built_in">int</span>();</span><br><span class="line"><span class="comment">//allocate an int, initialized to 5</span></span><br><span class="line"><span class="type">int</span> * p3 =  <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">5</span>); </span><br><span class="line"><span class="comment">//allocate an int, initialized to 0</span></span><br><span class="line"><span class="type">int</span> * p4 =  <span class="keyword">new</span> <span class="type">int</span>&#123;&#125;;<span class="comment">//C++11    </span></span><br><span class="line"><span class="comment">//allocate an int, initialized to 5</span></span><br><span class="line"><span class="type">int</span> * p5 =  <span class="keyword">new</span> <span class="type">int</span> &#123;<span class="number">5</span>&#125;;<span class="comment">//C++11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//allocate a Student object, default initializer</span></span><br><span class="line">Student * ps1 = <span class="keyword">new</span> Student;</span><br><span class="line"><span class="comment">//allocate a Student object, initialize the members</span></span><br><span class="line">Student * ps2 = <span class="keyword">new</span> Student &#123;<span class="string">&quot;Yu&quot;</span>, <span class="number">2020</span>, <span class="number">1</span>&#125;; <span class="comment">//C++11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//allocate 16 int, default initializer (do nothing) </span></span><br><span class="line"><span class="type">int</span> * pa1 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">16</span>];</span><br><span class="line"><span class="comment">//allocate 16 int, zero initialized </span></span><br><span class="line"><span class="type">int</span> * pa2 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">16</span>]();</span><br><span class="line"><span class="comment">//allocate 16 int, zero initialized </span></span><br><span class="line"><span class="type">int</span> * pa3 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">16</span>]&#123;&#125;; <span class="comment">//C++11</span></span><br><span class="line"><span class="comment">//allocate 16 int, the first 3 element are initialized to 1,2,3, the rest 0</span></span><br><span class="line"><span class="type">int</span> * pa4 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">16</span>]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;; <span class="comment">//C++11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//allocate memory for 16 Student objects, default initializer</span></span><br><span class="line">Student * psa1 = <span class="keyword">new</span> Student[<span class="number">16</span>];</span><br><span class="line"><span class="comment">//allocate memory for 16 Student objects, the first two are explicitly initialized</span></span><br><span class="line">Student * psa2 = <span class="keyword">new</span> Student[<span class="number">16</span>]&#123;&#123;<span class="string">&quot;Li&quot;</span>, <span class="number">2000</span>,<span class="number">1</span>&#125;, &#123;<span class="string">&quot;Yu&quot;</span>, <span class="number">2001</span>,<span class="number">1</span>&#125;&#125;; <span class="comment">//C++11</span></span><br></pre></td></tr></table></figure>
<h2 id="textttdelete"><span
class="math inline">\(\texttt{delete}\)</span></h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//deallocate memory</span></span><br><span class="line"><span class="keyword">delete</span> p1;</span><br><span class="line"><span class="comment">//deallocate memory</span></span><br><span class="line"><span class="keyword">delete</span> ps1;</span><br><span class="line"></span><br><span class="line"><span class="comment">//deallocate the memory of the array</span></span><br><span class="line"><span class="keyword">delete</span> pa1;</span><br><span class="line"><span class="comment">//deallocate the memory of the array</span></span><br><span class="line"><span class="keyword">delete</span> []pa2;</span><br><span class="line"></span><br><span class="line"><span class="comment">//deallocate the memory of the array, and call the destructor of the first element</span></span><br><span class="line"><span class="keyword">delete</span> psa1;</span><br><span class="line"><span class="comment">//deallocate the memory of the array, and call the destructors of all the elements</span></span><br><span class="line"><span class="keyword">delete</span> []psa2;</span><br></pre></td></tr></table></figure>
<p>养成用 <code>delete []</code> 的习惯是比较安全的</p>
<h1 id="chapter6-7-functions">Chapter6-7 Functions</h1>
<blockquote>
<p>第六章、函数</p>
<p>1、函数的定义 2、函数的返回值（本质就是值复制）
3、函数的参数（深拷贝与浅拷贝
也就是对应大的值传递还是地址传递地问题。最终在实际中的体现就是深拷贝在函数里面的修改会对外面的参数有影响。）
4、函数的声明与使用（通常函数编辑的时候，首先在入口处要对参数进行各种检查，这样可以避免出现BUG）
5、引用：相比较于指针，引用一定要初始化，会更加的安全。
6、内联函数，就是以空间换时间的作用；</p>
<p>第七章、函数的扩展：默认参数问题以及函数模板等等
1、默认参数都是从后面开始写的；
2、函数的重载：函数名相同，签名不同的函数，主要的作用就是在调用的时候能根据参数的传入不同，调用不同的函数体。
3、函数模板：本质上就是泛型，类似于C#中的泛型，在定义的时候是不会生成代码，在实例化的时候才生成真正的代码。
多态的本质就是延迟定义，这样可以让程序变得更加灵活。 4、函数指针：
就是指向函数的指针。
类似于C#中的委托，这样做到深层次可以实现事件进行异步通讯。 5、函数引用：
6、递归函数：优点就是可以让复杂程序变得简单，比如树的遍历等等；缺点就是占据内存高，计算复杂度高，同时耗时且理解困难。</p>
</blockquote>
<p>The parameters should be checked first!!</p>
<p>好的风格是先声明，否则要不断调整函数的顺序</p>
<p>一般把函数的声明放在头文件里</p>
<h2 id="function-calling">Function Calling</h2>
<ul>
<li>应用程序执行的时候实际上是二进制指令一条条地往CPU里面搬，每一段代码都是一条条指令。</li>
<li>当碰到函数时，因为函数的指令不一定和当前执行的指令放在一起的，那么在执行函数时会跳到其他位置去执行，在跳之前一般要保存当前的状态，即各种数据入栈。</li>
<li>执行完函数之后从栈中取出各种数据。拿到函数返回值（如果有），继续执行原来的代码。</li>
<li>程序执行的代价就是各种数据的出入栈的花费，如果函数非常复杂那么代价可以忽略不计，如果是简单的函数又频繁调用代价就大了，这时候可以设为内联函数。</li>
</ul>
<h2 id="references">References</h2>
<blockquote>
<p>an alias to an already-existing variable/object</p>
</blockquote>
<ul>
<li>A reference <strong>must</strong> be initialized after its
declaration.</li>
<li>References are much safer.</li>
<li>Affecting the original object, to avoid this, add <code>const</code>
modifier.</li>
<li>Higher efficiency without data copying.</li>
</ul>
<h2 id="multiple-return-values">Multiple Return Values</h2>
<ul>
<li>such as matrix addition function</li>
<li>A suggested prototype
<ul>
<li>To use references to avoid data copying</li>
<li>To use const parameters to avoid input data being modified</li>
<li>To use non-const reference parameters to receive the output</li>
</ul></li>
</ul>
<h2 id="inline-functions">Inline Functions</h2>
<ul>
<li><p>inline 只是对编译器的一种建议</p></li>
<li><p>内联后的代码大概如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> num1 = <span class="number">20</span>;</span><br><span class="line">    <span class="type">int</span> num2 = <span class="number">30</span>;</span><br><span class="line">    <span class="type">int</span> maxv =</span><br><span class="line">    &#123; <span class="keyword">if</span> (num1 &gt; num2)</span><br><span class="line">        <span class="keyword">return</span> num1;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> num2; &#125;</span><br><span class="line">    maxv =</span><br><span class="line">    &#123; <span class="keyword">if</span> (numn &gt; maxv)</span><br><span class="line">        <span class="keyword">return</span> numn;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> maxv; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="default-arguments">Default Arguments</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">float</span> <span class="title">norm</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y, <span class="type">float</span> z = <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="comment">// z is parameter, 0 is argument</span></span><br></pre></td></tr></table></figure>
<p>只能从尾部开始，只能定义一次，效果可以叠加</p>
<h2 id="function-overloading">Function Overloading</h2>
<p>返回值不参与比较，两个参数列表相同但返回值不同的函数被认为是同一个函数。</p>
<h2 id="function-templates">Function Templates</h2>
<p>编译器不会为模板函数生成机器指令，因为不知道具体的类型，只有模板实例化时才会生成机器指令。</p>
<p>函数模板实例化：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T x, T y)</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;The input type is &quot;</span> &lt;&lt; <span class="built_in">typeid</span>(T).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// instantiates explictly</span></span><br><span class="line"><span class="keyword">template</span> <span class="type">double</span> <span class="built_in">sum</span>&lt;<span class="type">double</span>&gt;(<span class="type">double</span>, <span class="type">double</span>);</span><br><span class="line"><span class="keyword">template</span> <span class="type">char</span> sum&lt;&gt;(<span class="type">char</span>, <span class="type">char</span>);</span><br><span class="line"><span class="function"><span class="keyword">template</span> <span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h2 id="specialization">Specialization</h2>
<p>特化</p>
<p>如对于结构类型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>直接执行会报错，需要针对此类型进行特例化：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;&gt;</span><br><span class="line">Point <span class="built_in">sum</span>&lt;Point&gt;(Point pt1, Point pt2) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;The input type is &quot;</span> &lt;&lt; <span class="built_in">typeid</span>(pt1).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    Point pt;</span><br><span class="line">    pt.x = pt1.x + pt2.x;</span><br><span class="line">    pt.y = pt1.y + pt2.y;</span><br><span class="line">    <span class="keyword">return</span> pt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意此处必须加 <code>&lt;&gt;</code></p>
<h2 id="function-pointers">Function Pointers</h2>
<p>指向的是指令区的数据，指向指令的地址</p>
<p>有些时候需要用到代表某一类函数的函数指针，例如标准库容器的自定义操作</p>
<p>还有一种是把函数作为参数传入另一个函数作为<strong>回调函数</strong>，如
<code>qsort</code> 的调用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">float</span> <span class="title">norm_l1</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">norm_l2</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y)</span></span>;</span><br><span class="line"><span class="built_in">float</span> (*norm_ptr)(<span class="type">float</span> x, <span class="type">float</span> y);</span><br><span class="line">norm_ptr = norm_l1; <span class="comment">// pointing</span></span><br><span class="line">norm_ptr = &amp;norm_l2;</span><br><span class="line"><span class="type">float</span> len1 = <span class="built_in">norm_ptr</span>(<span class="number">-3.0f</span>, <span class="number">4.0f</span>); <span class="comment">// invoking</span></span><br><span class="line"><span class="type">float</span> len1 = (*norm_ptr)(<span class="number">-3.0f</span>, <span class="number">4.0f</span>);</span><br></pre></td></tr></table></figure>
<h2 id="function-references">Function References</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">float</span> <span class="title">norm_l1</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">norm_l2</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y)</span></span>;</span><br><span class="line"><span class="built_in">float</span> (&amp;norm_ref)(<span class="type">float</span> x, <span class="type">float</span> y) = norm_l1;</span><br></pre></td></tr></table></figure>
<p>当然函数引用越少越好</p>
<h2 id="recursive-functions">Recursive Functions</h2>
<h1 id="chapter8-optimizations">Chapter8 Optimizations</h1>
<blockquote>
<p>第八章、Arm下的C++和C编程</p>
<p>1、平台不一样 2、如何让程序加速？ 本质就是三点：短，简单，高效；
主要包括以下几点：A、算法合适；B、代码简洁；C、内存优化；D、避免内存复制；E、循环里面不要使用printf、cout
F、可以使用查表法；G、SIMD,OPENMP自带的加速机制；
3、如何避免内存的复制？</p>
</blockquote>
<ol type="1">
<li>优化算法，从算法的时间复杂度、空间复杂度方面考虑优化算法。</li>
<li>现在的编译器非常强大，把代码写得简洁以便编译器可以优化。</li>
<li>考虑内存操作的影响。计算机的储存机制是分层的，最慢的、储存量最大的是磁盘，读取数据时会（计时用户只需要读取少量数据也会）一次性读取大量数据到内存，再一层层读到
cache 里面，所以读写数据时如果数据的地址是连续的就会很快。</li>
<li>避免拷贝大的对象。</li>
<li>尽可能不要再循环里面打印内容。</li>
<li>查表法。比如 sin()、cos()
这些计算很费时间，可以计算出其常用的值存到数组，可以大大提高效率。处理复杂操作可以考虑使用。</li>
</ol>
<h1 id="chapter9-basics-of-classes">Chapter9 Basics of Classes</h1>
<blockquote>
<p>第九章、类与对象</p>
<p>1、类：类成员变量以及类成员方法；
2、文件结构设计：头文件（.hpp），函数具体实现（.cpp），主函数实现（main.cpp）
3、构造函数以及析构函数 4、this 指针：指定当前的对象 5、const 成员与
static 成员</p>
</blockquote>
<p>操作结构时要非常小心数据取值和地址越界问题</p>
<h2 id="access-specifier">Access Specifier</h2>
<p>成员默认是 <code>private</code></p>
<h2 id="member-functions">Member Functions</h2>
<p>成员函数可以在类里也可以在类外。可以仅在类中放函数声明</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// member-function.cpp</span></span><br></pre></td></tr></table></figure>
<p>类中定义的函数默认是 <code>inline</code> 函数</p>
<p>建议：</p>
<ul>
<li>简单且适合内联的函数放在类内</li>
<li>操作复杂的函数建议放到类的外部</li>
</ul>
<h2 id="file-structure">File Structure</h2>
<p>将类的声明放到头文件</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chapter9/files</span></span><br></pre></td></tr></table></figure>
<h2 id="constructors">Constructors</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// constructor.cpp</span></span><br></pre></td></tr></table></figure>
<h2 id="destructors">Destructors</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// destructor.cpp</span></span><br></pre></td></tr></table></figure>
<ul>
<li>加波浪线 <code>~</code></li>
<li>不允许重载</li>
<li>无参数无返回值</li>
</ul>
<h2 id="textttthis-pointer"><span
class="math inline">\(\texttt{this}\)</span> pointer</h2>
<p>表示当前对象</p>
<blockquote>
<p>类似 Python 的 self</p>
</blockquote>
<h3 id="textttconst-and-textttstatic-members"><span
class="math inline">\(\texttt{const}\)</span> and <span
class="math inline">\(\texttt{static}\)</span> members</h3>
<ul>
<li><span class="math inline">\(\texttt{const}\)</span> variables</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> * p_int;</span><br><span class="line"><span class="type">int</span> <span class="type">const</span> * p_int;</span><br><span class="line"><span class="comment">// 相同，指针指向的内容不能通过指针修改</span></span><br><span class="line"><span class="type">int</span> * <span class="type">const</span> p_int;</span><br><span class="line"><span class="comment">// 指针一定指向某个不可修改的地址</span></span><br></pre></td></tr></table></figure>
<ul>
<li><span class="math inline">\(\texttt{static}\)</span> members</li>
</ul>
<h1 id="chapter10-advances-in-classes">Chapter10 Advances in
Classes</h1>
<blockquote>
<p>第十章、运算符重载</p>
<p>1、运算符重载的主要目的是简化程序
2、友元函数：函数的朋友，可以不受限类的约束，因为它不是类的成员；
3、类型转换：在运算符重载的过程中，通常会遇到各种类型的转换，注意最好使用显式转换，不建议使用隐式转换。
4、自增与自减运算符的重载： 可以让代码更加地简洁；</p>
</blockquote>
<h2 id="textttfriend-functions"><span
class="math inline">\(\texttt{friend}\)</span> functions</h2>
<ul>
<li>在类中声明</li>
<li>有权限访问类的所有成员</li>
<li><strong>不是</strong>类的成员，所以在类外定义的时候不加
<code>classname::</code></li>
<li><strong>可以用来重定义输入输出操作，类似 Java 中的
<code>toString</code></strong></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp time.hpp</span></span><br></pre></td></tr></table></figure>
<h2 id="user-defined-type-conversion">User-defined Type Conversion</h2>
<p>一行定义并初始化会调用构造函数，而先定义不初始化后面再赋值会调用赋值运算符</p>
<h2 id="increment-and-decrement-operators">Increment and Decrement
Operators</h2>
<figure>
<img src="Images/operators-can-be-overloaded.png"
alt="operators-can-be-overloaded" />
<figcaption aria-hidden="true">operators-can-be-overloaded</figcaption>
</figure>
<h1 id="chapter11-dynamic-memory-management-in-classes">Chapter11
Dynamic Memory Management in Classes</h1>
<blockquote>
<p>第十一章、类的动态内存操作 1、默认构造函数： 2、动态内存的例子；
3、内存泄漏的解法； 4、软拷贝 5、智能指针可以自动释放内存；
（只管申请，不管释放：本质就是模板类，在析构函数中根据引用次数减少到指定值时（比如到0时）就会自动删除delete[]从而释放内存。）</p>
</blockquote>
<h2 id="default-operations">Default Operations</h2>
<ul>
<li>默认构造函数</li>
<li>隐式定义的析构函数</li>
<li>默认拷贝构造函数</li>
<li>默认拷贝赋值运算符</li>
</ul>
<h2 id="an-example-with-dynamic-memory">An Example with Dynamic
Memory</h2>
<h2 id="hard-copy">Hard Copy</h2>
<ul>
<li>自定义拷贝构造函数</li>
<li>自定义拷贝运算符重载使指针指向自己申请的内存。</li>
</ul>
<h2 id="soft-copy">Soft Copy</h2>
<blockquote>
<p>Hard copy 的时间和空间代价较高</p>
</blockquote>
<ul>
<li>浅拷贝，使用引用计数。</li>
</ul>
<h2 id="smart-pointers">Smart Pointers</h2>
<ul>
<li><span class="math inline">\(\texttt{std::shared\_ptr}\)</span></li>
</ul>
<p>​ 允许多个对象同时指向一块内存，当没有指针指向这块内存时会被销毁</p>
<ul>
<li><span class="math inline">\(\texttt{std::unique\_ptr}\)</span></li>
</ul>
<p>​ 不允许和别人分享</p>
<h1 id="chapter12-class-inheritance">Chapter12 Class Inheritance</h1>
<blockquote>
<p>第十二章、改善你的源代码
1、一些建议：A、使用size_t代替int;B、矩阵拷贝不适用双层循环，使用内存可能更好；C、使用一维数组，而不是使用二维数组。D、不要使用太多的循环结构；E、多对输入参数进行检查，这样可以避免更多的bug.F、将代码写得更加具有可移植性，这样可以方便拓展；G、文件命名规则；H、代码优化无止境。
2、头文件里面应用了单例模式； 3、代码最好要做到高内聚低耦合。
4、派生类：子类继承父类的所有特性，先执行父类的构造函数，析构函数则是相反。
5、访问权限的控制：private,public,protected具有不同的访问权限与范围。
6、虚函数：虚函数就是在父类中进行申明，在子类中进行实现与重写。这样可以实现多态，延迟定义：
在C#中，虚函数是一种很好的抽象，著名的抽象工厂，抽象方法以及抽象类也是类似于这种思想实现的。
虚函数的本质就是动态绑定，非虚函数就是静态绑定。
7、析构函数一定是虚函数。 8、静态与动态的内存申请：
9、opencv中的实例；</p>
</blockquote>
<h2 id="suggestions-to-project3-2021">Suggestions to Project3 2021</h2>
<ul>
<li>用 <span class="math inline">\(\texttt{size\_t}\)</span>
表达行数和列数</li>
<li>用 <span class="math inline">\(\texttt{memcpy}\)</span>
完成矩阵的拷贝</li>
<li>数据检查是减少程序调试时间最重要的一点</li>
<li><strong>做Project一定要作为一种艺术</strong></li>
</ul>
<h2 id="reference-implementation">Reference Implementation</h2>
<ul>
<li>第二次申请失败的可能性较高：多次申请内存可能导致泄露</li>
<li>不能第二次申请失败就直接返回，需要把第一次申请的内存释放掉</li>
<li>申请矩阵和矩阵加法分开实现，在加法函数内部调用申请函数，分工明确</li>
<li>用 bool 表示成功与否，相加的结果放在参数中返回</li>
<li>在写代码时多写 debug
信息，产品交付时要少，否则容易被攻击者猜测实现方案</li>
<li>不要依赖编译器的优化，自己能做就尽量做掉</li>
</ul>
<h2 id="derived-classes">Derived Classes</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> c;</span><br><span class="line">    <span class="built_in">Derived</span>(<span class="type">int</span> c) : <span class="built_in">Base</span>(c<span class="number">-2</span>, c<span class="number">-1</span>), <span class="built_in">c</span>(c) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>Constructors
<ul>
<li>先执行父类的构造函数</li>
</ul></li>
<li>Destructors
<ul>
<li>先执行子类的析构函数</li>
</ul></li>
</ul>
<p>对基类数据的保护程度：public &lt; protected &lt; private</p>
<ol type="1">
<li>基类中的私有数据：三种方式都不能访问。</li>
<li>基类中的 protected 数据：以 public、protected
方式继承，该数据在子类还是 protected 的；以private
方式继承，该数据在子类中是不可直接访问的（可以通过父类间接访问）。</li>
<li>基类中的 public 数据：以 public 方式继承，该数据在子类是 public
的，以 protected 方式继承，该数据在子类中是 protected 的，以 private
方式继承，该数据在子类中是不可直接访问的。</li>
</ol>
<h2 id="virtual-functions">Virtual Functions</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// virtual.cpp</span></span><br></pre></td></tr></table></figure>
<p>虚函数用于多态</p>
<p>其区别在于绑定</p>
<ul>
<li>静态绑定：编译器在编译期确定调用哪个函数</li>
<li>动态绑定：在运行时根据传入参数的类型确定执行的函数。</li>
</ul>
<p>动态绑定原理：一旦定义了虚函数，类的成员变量会多出一个指向自身函数表的指针，这个成员变量是类的第一个成员变量。执行时查虚函数表确定实际执行的函数。</p>
<p>析构函数一定是虚函数，否则调用析构函数时只会调用父类的析构函数。</p>
<h2 id="inheritance-and-dynamic-memory-allocation">Inheritance and
Dynamic Memory Allocation</h2>
<p>如果基类使用了动态内存分配，并且重写了拷贝构造函数和赋值运算符</p>
<ul>
<li>子类不使用动态内存分配，无需特殊操作</li>
<li>子类使用动态内存分配，需要重写拷贝构造函数和赋值运算符</li>
</ul>
<h1 id="chapter13-class-templates-and-std-library">Chapter13 Class
Templates and std Library</h1>
<blockquote>
<p>第十三章、类模板和标准库
1、类模板是最近C++标准推出的功能，主要也就是泛型在类上面的实现。
2、可以更加灵活地调用类，泛型（模板）的出现主要就是延迟创建，让使用变得更加方便；</p>
<p>3、模板还可以相互继承； 4、C++中有很多的标准类模板；</p>
</blockquote>
<h2 id="review-function-templates">Review: Function Templates</h2>
<p>是一个空壳子，编译器对空壳子不做任何事情。只有在实例化以后才会做事</p>
<p>Function Templates：空壳子</p>
<p>Template Functions：函数模板初始化后的具体函数</p>
<p><code>= delete</code> 表示不调用默认生成的函数</p>
<h2 id="template-non-type-parameters">Template non-type Parameters</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">size_t</span> rows, <span class="type">size_t</span> cols&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mat</span> &#123;</span><br><span class="line">    T data[rows][cols];</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Mat</span>()&#123;&#125;</span><br><span class="line">    <span class="function">T <span class="title">getElement</span><span class="params">(<span class="type">size_t</span> r, <span class="type">size_t</span> c)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">setElement</span><span class="params">(<span class="type">size_t</span> r, <span class="type">size_t</span> c, T value)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>rows</code>、<code>cols</code> 在编译的时候就确定了：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mat&lt;<span class="type">int</span>, <span class="number">3</span>, <span class="number">3</span>&gt; vec;</span><br></pre></td></tr></table></figure>
<h2 id="class-template-specialization">Class Template
Specialization</h2>
<p>我非要用 <code>bool</code> 类型实例化对操作内容为完整字节的模板类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// specialization.cpp</span></span><br></pre></td></tr></table></figure>
<h2 id="textttstd-classes"><span
class="math inline">\(\texttt{std}\)</span> classes</h2>
<ul>
<li><span class="math inline">\(\texttt{std::string}\)</span></li>
<li><span class="math inline">\(\texttt{std::array}\)</span></li>
<li><span class="math inline">\(\texttt{vector}\)</span></li>
<li><span class="math inline">\(\texttt{list}\)</span></li>
<li><span class="math inline">\(\texttt{set}\)</span></li>
<li><span class="math inline">\(\texttt{map}\)</span></li>
<li><span class="math inline">\(\texttt{stack}\)</span></li>
</ul>
<h1 id="chapter14-error-handling">Chapter14 Error Handling</h1>
<blockquote>
<p>第十四章、错误处理机制 1、cin ,cout,cerr等不同的信息输出到多管道中；
2、assert 是一个宏，不是一个标准；
3、exception异常，通常使用try……catch对不同的异常进行捕获。
4、还有更多的异常捕获机制，就是对应于不同的异常进行捕获，然后进行相应的处理。</p>
</blockquote>
<h2 id="standard-output-stream-and-standard-error-stream">Standard
Output Stream and Standard Error Stream</h2>
<p>在输出很多的时候可以通过管道重定向到文件，不重定向都会输出到控制台</p>
<p>一些操作：</p>
<h2 id="assert">assert</h2>
<p><span class="math inline">\(\texttt{assert}\)</span>
是一个像函数的宏定义，定义在 <span
class="math inline">\(\texttt{&lt;assert.h&gt;}\)</span> 和 <span
class="math inline">\(\texttt{&lt;cassert&gt;}\)</span> 头文件中</p>
<p>条件不满足会做相应的处理，并调用 <span
class="math inline">\(\texttt{abort()}\)</span> 函数终止程序</p>
<p>如果在产品发布时想去掉 assert 信息，可以在文件中定义
<code>NDEBUG</code> 或者在编译时定义一个宏</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ assert.cpp -DNDEBUG</span><br></pre></td></tr></table></figure>
<h2 id="exceptions">Exceptions</h2>
<p>几种可能的处理方式：</p>
<ul>
<li>直接 kill 程序</li>
<li>用返回值表示成功与否，缺点是需要引入额外的参数</li>
<li>抛出异常</li>
</ul>
<p><span class="math inline">\(\texttt{throw}\)</span>
应该会跳过后续的执行语句</p>
<p>函数层层调用，最内层的函数抛出异常，如果外层的函数不捕获异常，那么异常会层层往外扔直到主函数，如果到最后异常没有被捕获那么程序会被kill。</p>
<h2 id="catch-all-handler">Catch-all Handler</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">catch</span>(...) <span class="comment">// 这里就是...</span></span><br></pre></td></tr></table></figure>
<p>三个点表示匹配任何异常，即任何扔到主函数的异常都被捕获，可防止程序被kill。</p>
<h2 id="exceptions-and-inheritance">Exceptions and Inheritance</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// derived.cpp</span></span><br></pre></td></tr></table></figure>
<h2 id="textttstdexception"><span
class="math inline">\(\texttt{std::exception}\)</span></h2>
<p>是标准库定义的标准异常类，可以重写 <span
class="math inline">\(\texttt{std::exception::what()}\)</span>
方法返回一个字符串</p>
<p>当new申请内存失败时，默认会抛出异常。</p>
<h2 id="exception-specifications-and-textttnoexcept">Exception
Specifications and <span
class="math inline">\(\texttt{noexcept}\)</span></h2>
<p>如果抛出异常编译期就会出错</p>
<h2 id="textttnothrow-new"><span class="math inline">\(\texttt{nothrow
new}\)</span></h2>
<p><span class="math inline">\(\texttt{std::nothrow}\)</span></p>
<h1 id="chapter15-nested-classes-and-rtti">Chapter15 Nested Classes and
RTTI</h1>
<blockquote>
<p>第十五章、拓展的C++知识
1、友元类：友元函数不是成员函数。友元类可以调用基类的私有成员；
2、Nested types嵌套：
3、RTTI和不同的数据类型转换：（记住一点那就是最好使用显式转换，不然出现信息都是都是容易造成bug的问题的出现。）
4、</p>
</blockquote>
<h2 id="textttfriend-classes"><span
class="math inline">\(\texttt{friend}\)</span> Classes</h2>
<p>友元类可以访问类的私有成员。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// friend.cpp</span></span><br></pre></td></tr></table></figure>
<h2 id="textttfriend-member-functions"><span
class="math inline">\(\texttt{friend}\)</span> Member Functions</h2>
<p>限制友元类只有一部分函数可以访问类的私有成员：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>编译时如果遇到“死锁”，考虑将类的声明和类的成员函数声明先写出，后续补充其定义。</p>
<h2 id="nested-types">Nested Types</h2>
<h2 id="rtti-and-type-cast-operators">RTTI and Type Cast Operators</h2>
<p>RTTI: Runtime Type Identification</p>
<ul>
<li><span
class="math inline">\(\texttt{dynamic\_cast}\)</span>：将<strong>多态类型</strong>进行转换</li>
<li><span class="math inline">\(\texttt{typeid}\)</span>：返回类型
id</li>
<li><span
class="math inline">\(\texttt{type\_info}\)</span>：返回的对象</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// typeid.cpp</span></span><br></pre></td></tr></table></figure>
<h2 id="more-type-cast-operators">More Type Cast Operators</h2>
<ul>
<li><span class="math inline">\(\texttt{const\_cast}\)</span></li>
<li><span class="math inline">\(\texttt{static\_cast}\)</span></li>
<li><span class="math inline">\(\texttt{reinterpret\_cast}\)</span></li>
</ul>
<h1 id="appendix">Appendix</h1>
<blockquote>
<p>附录 1、OPENBLAS项目创始人介绍如何进行代码优化：1、局部性原理2、GEMM
2、OPENCV中国区域负责人：Vadim Pisarevsky与于教授的对答环节：</p>
</blockquote>
<h2
id="interview-with-vadim-pisarevsky-on-class-textttcvmat-in-opencv">Interview
with Vadim Pisarevsky on class <span
class="math inline">\(\texttt{cv::Mat}\)</span> in OpenCV</h2>
<ol type="1">
<li>（长久来看）建议关注算法、概念、技术，而不是特定的特性或者编程语言本身。</li>
<li>不要尝试把你学到的花哨功能全部用到开发上，因为过一段时间你可以就都不懂你的代码了。</li>
<li>“当程序员避免使用原始指针而使用智能指针等封装好的结构，内存泄漏的问题就降到几乎为零”</li>
<li>c++语言变得越来越复杂，但应该形成自己的提高程序稳定性的方法论，比如：</li>
</ol>
<ul>
<li>尽量不要手动管理内存，使用已有的容器。</li>
<li>在重构和优化之前要进行回归测试。</li>
<li>写代码时应注意让程序更容易调试，不要用复杂的语言结构（代码应该越简单越好）。</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Notes/" rel="tag"># Notes</a>
              <a href="/tags/C/" rel="tag"># C++</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/co-pre/" rel="prev" title="「BUAA-CO」 Pre">
      <i class="fa fa-chevron-left"></i> 「BUAA-CO」 Pre
    </a></div>
      <div class="post-nav-item">
    <a href="/badminton/" rel="next" title="「Badminton」">
      「Badminton」 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter1-introduction-and-background"><span class="nav-number">1.</span> <span class="nav-text">Chapter1 Introduction and
Background</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#g"><span class="nav-number">1.1.</span> <span class="nav-text">g++</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#compile-and-link"><span class="nav-number">1.2.</span> <span class="nav-text">Compile and Link</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#debug"><span class="nav-number">1.3.</span> <span class="nav-text">Debug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#preprocessor-and-macros"><span class="nav-number">1.4.</span> <span class="nav-text">Preprocessor and Macros</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-input-and-output"><span class="nav-number">1.5.</span> <span class="nav-text">Simple Input and Output</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#arguments"><span class="nav-number">1.6.</span> <span class="nav-text">Arguments</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter2-data-types-and-arithmetic-operations"><span class="nav-number">2.</span> <span class="nav-text">Chapter2 Data
Types and Arithmetic Operations</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#integer-numbers"><span class="nav-number">2.1.</span> <span class="nav-text">Integer Numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#data-width-and-more-integer-types"><span class="nav-number">2.2.</span> <span class="nav-text">Data Width and More Integer
Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#boolean-in-c"><span class="nav-number">2.3.</span> <span class="nav-text">Boolean in C</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttsize_t"><span class="nav-number">2.4.</span> <span class="nav-text">\(\texttt{size\_t}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fixed-width-integer-types-since-c11"><span class="nav-number">2.5.</span> <span class="nav-text">Fixed Width Integer Types
(since C++11)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#floating-point-numbers"><span class="nav-number">2.6.</span> <span class="nav-text">Floating Point Numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#constant-numbers"><span class="nav-number">2.7.</span> <span class="nav-text">Constant Numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttauto"><span class="nav-number">2.8.</span> <span class="nav-text">\(\texttt{auto}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#conversion"><span class="nav-number">2.9.</span> <span class="nav-text">Conversion</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter3-statements"><span class="nav-number">3.</span> <span class="nav-text">Chapter3 Statements</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#assign-statement"><span class="nav-number">3.1.</span> <span class="nav-text">Assign Statement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttgoto"><span class="nav-number">3.2.</span> <span class="nav-text">\(\texttt{goto}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttswitch"><span class="nav-number">3.3.</span> <span class="nav-text">\(\texttt{switch}\)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter4-arrays"><span class="nav-number">4.</span> <span class="nav-text">Chapter4 Arrays</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#variable-length-arrays"><span class="nav-number">4.1.</span> <span class="nav-text">Variable-length Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttconst-arrays"><span class="nav-number">4.2.</span> <span class="nav-text">\(\texttt{const}\) arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttstring-class"><span class="nav-number">4.3.</span> <span class="nav-text">\(\texttt{string}\) class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#different-types-of-textttstring"><span class="nav-number">4.4.</span> <span class="nav-text">Different Types of \(\texttt{string}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttstruct"><span class="nav-number">4.5.</span> <span class="nav-text">\(\texttt{struct}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttenum"><span class="nav-number">4.6.</span> <span class="nav-text">\(\texttt{enum}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#texttttypedef"><span class="nav-number">4.7.</span> <span class="nav-text">\(\texttt{typedef}\)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter5-pointers-and-memory-management"><span class="nav-number">5.</span> <span class="nav-text">Chapter5 Pointers and
Memory Management</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#constant-pointers"><span class="nav-number">5.1.</span> <span class="nav-text">Constant Pointers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttsize_t-1"><span class="nav-number">5.2.</span> <span class="nav-text">\(\texttt{size\_t}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#memory-types"><span class="nav-number">5.3.</span> <span class="nav-text">Memory Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttvoid-malloc-size_t-size"><span class="nav-number">5.4.</span> <span class="nav-text">\(\texttt{void* malloc( size\_t size
)}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#memory-leak"><span class="nav-number">5.5.</span> <span class="nav-text">Memory Leak</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttnew"><span class="nav-number">5.6.</span> <span class="nav-text">\(\texttt{new}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttdelete"><span class="nav-number">5.7.</span> <span class="nav-text">\(\texttt{delete}\)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter6-7-functions"><span class="nav-number">6.</span> <span class="nav-text">Chapter6-7 Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#function-calling"><span class="nav-number">6.1.</span> <span class="nav-text">Function Calling</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#references"><span class="nav-number">6.2.</span> <span class="nav-text">References</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#multiple-return-values"><span class="nav-number">6.3.</span> <span class="nav-text">Multiple Return Values</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inline-functions"><span class="nav-number">6.4.</span> <span class="nav-text">Inline Functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#default-arguments"><span class="nav-number">6.5.</span> <span class="nav-text">Default Arguments</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function-overloading"><span class="nav-number">6.6.</span> <span class="nav-text">Function Overloading</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function-templates"><span class="nav-number">6.7.</span> <span class="nav-text">Function Templates</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#specialization"><span class="nav-number">6.8.</span> <span class="nav-text">Specialization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function-pointers"><span class="nav-number">6.9.</span> <span class="nav-text">Function Pointers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function-references"><span class="nav-number">6.10.</span> <span class="nav-text">Function References</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#recursive-functions"><span class="nav-number">6.11.</span> <span class="nav-text">Recursive Functions</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter8-optimizations"><span class="nav-number">7.</span> <span class="nav-text">Chapter8 Optimizations</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter9-basics-of-classes"><span class="nav-number">8.</span> <span class="nav-text">Chapter9 Basics of Classes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#access-specifier"><span class="nav-number">8.1.</span> <span class="nav-text">Access Specifier</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#member-functions"><span class="nav-number">8.2.</span> <span class="nav-text">Member Functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#file-structure"><span class="nav-number">8.3.</span> <span class="nav-text">File Structure</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#constructors"><span class="nav-number">8.4.</span> <span class="nav-text">Constructors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#destructors"><span class="nav-number">8.5.</span> <span class="nav-text">Destructors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttthis-pointer"><span class="nav-number">8.6.</span> <span class="nav-text">\(\texttt{this}\) pointer</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#textttconst-and-textttstatic-members"><span class="nav-number">8.6.1.</span> <span class="nav-text">\(\texttt{const}\) and \(\texttt{static}\) members</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter10-advances-in-classes"><span class="nav-number">9.</span> <span class="nav-text">Chapter10 Advances in
Classes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#textttfriend-functions"><span class="nav-number">9.1.</span> <span class="nav-text">\(\texttt{friend}\) functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#user-defined-type-conversion"><span class="nav-number">9.2.</span> <span class="nav-text">User-defined Type Conversion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#increment-and-decrement-operators"><span class="nav-number">9.3.</span> <span class="nav-text">Increment and Decrement
Operators</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter11-dynamic-memory-management-in-classes"><span class="nav-number">10.</span> <span class="nav-text">Chapter11
Dynamic Memory Management in Classes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#default-operations"><span class="nav-number">10.1.</span> <span class="nav-text">Default Operations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#an-example-with-dynamic-memory"><span class="nav-number">10.2.</span> <span class="nav-text">An Example with Dynamic
Memory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hard-copy"><span class="nav-number">10.3.</span> <span class="nav-text">Hard Copy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#soft-copy"><span class="nav-number">10.4.</span> <span class="nav-text">Soft Copy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#smart-pointers"><span class="nav-number">10.5.</span> <span class="nav-text">Smart Pointers</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter12-class-inheritance"><span class="nav-number">11.</span> <span class="nav-text">Chapter12 Class Inheritance</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#suggestions-to-project3-2021"><span class="nav-number">11.1.</span> <span class="nav-text">Suggestions to Project3 2021</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference-implementation"><span class="nav-number">11.2.</span> <span class="nav-text">Reference Implementation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#derived-classes"><span class="nav-number">11.3.</span> <span class="nav-text">Derived Classes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#virtual-functions"><span class="nav-number">11.4.</span> <span class="nav-text">Virtual Functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inheritance-and-dynamic-memory-allocation"><span class="nav-number">11.5.</span> <span class="nav-text">Inheritance and
Dynamic Memory Allocation</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter13-class-templates-and-std-library"><span class="nav-number">12.</span> <span class="nav-text">Chapter13 Class
Templates and std Library</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#review-function-templates"><span class="nav-number">12.1.</span> <span class="nav-text">Review: Function Templates</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#template-non-type-parameters"><span class="nav-number">12.2.</span> <span class="nav-text">Template non-type Parameters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#class-template-specialization"><span class="nav-number">12.3.</span> <span class="nav-text">Class Template
Specialization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttstd-classes"><span class="nav-number">12.4.</span> <span class="nav-text">\(\texttt{std}\) classes</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter14-error-handling"><span class="nav-number">13.</span> <span class="nav-text">Chapter14 Error Handling</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#standard-output-stream-and-standard-error-stream"><span class="nav-number">13.1.</span> <span class="nav-text">Standard
Output Stream and Standard Error Stream</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#assert"><span class="nav-number">13.2.</span> <span class="nav-text">assert</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#exceptions"><span class="nav-number">13.3.</span> <span class="nav-text">Exceptions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#catch-all-handler"><span class="nav-number">13.4.</span> <span class="nav-text">Catch-all Handler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#exceptions-and-inheritance"><span class="nav-number">13.5.</span> <span class="nav-text">Exceptions and Inheritance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttstdexception"><span class="nav-number">13.6.</span> <span class="nav-text">\(\texttt{std::exception}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#exception-specifications-and-textttnoexcept"><span class="nav-number">13.7.</span> <span class="nav-text">Exception
Specifications and \(\texttt{noexcept}\)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttnothrow-new"><span class="nav-number">13.8.</span> <span class="nav-text">\(\texttt{nothrow
new}\)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter15-nested-classes-and-rtti"><span class="nav-number">14.</span> <span class="nav-text">Chapter15 Nested Classes and
RTTI</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#textttfriend-classes"><span class="nav-number">14.1.</span> <span class="nav-text">\(\texttt{friend}\) Classes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#textttfriend-member-functions"><span class="nav-number">14.2.</span> <span class="nav-text">\(\texttt{friend}\) Member Functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nested-types"><span class="nav-number">14.3.</span> <span class="nav-text">Nested Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rtti-and-type-cast-operators"><span class="nav-number">14.4.</span> <span class="nav-text">RTTI and Type Cast Operators</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#more-type-cast-operators"><span class="nav-number">14.5.</span> <span class="nav-text">More Type Cast Operators</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#appendix"><span class="nav-number">15.</span> <span class="nav-text">Appendix</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#interview-with-vadim-pisarevsky-on-class-textttcvmat-in-opencv"><span class="nav-number">15.1.</span> <span class="nav-text">Interview
with Vadim Pisarevsky on class \(\texttt{cv::Mat}\) in OpenCV</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="StrivingLee"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">StrivingLee</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/StrivingLee" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;StrivingLee" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:735260208@qq.com" title="E-Mail → mailto:735260208@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://augetyvolta.github.io/" title="https:&#x2F;&#x2F;augetyvolta.github.io&#x2F;" rel="noopener" target="_blank">King's Blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://volcaxiao.top/" title="http:&#x2F;&#x2F;volcaxiao.top&#x2F;" rel="noopener" target="_blank">Volca's Blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://yanna-zy.gitee.io/" title="http:&#x2F;&#x2F;yanna-zy.gitee.io&#x2F;" rel="noopener" target="_blank">Yanna's Blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://frankie-dejong.github.io/" title="https:&#x2F;&#x2F;frankie-dejong.github.io&#x2F;" rel="noopener" target="_blank">Scott's Blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://einestages.github.io/" title="https:&#x2F;&#x2F;einestages.github.io&#x2F;" rel="noopener" target="_blank">Blackening's Blog</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">StrivingLee</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">104k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">4:21</span>
</div>

<!---->

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>




  <script>
    (function(d, w, c) {
      w.ChatraID = '';
      var s = d.createElement('script');
      w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments);
      };
      s.async = true;
      s.src = 'https://call.chatra.io/chatra.js';
      if (d.head) d.head.appendChild(s);
    })(document, window, 'Chatra');
  </script>









  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>
</html>
